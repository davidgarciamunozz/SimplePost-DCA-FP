(()=>{"use strict";var n,e,t={474:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))},i=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(t(780)),a=i(t(952)),s=i(t(236)),d=t(807),l=t(997),c=t(445);class u extends HTMLElement{constructor(){super(),this.posts=[],this.isEditing=!1,this.attachShadow({mode:"open"})}connectedCallback(){return o(this,void 0,void 0,(function*(){this.renderLoading();const{auth:n}=yield(0,c.getFirebaseInstance)();n&&n.onAuthStateChanged((n=>o(this,void 0,void 0,(function*(){n?(yield this.loadPostsFromFirestore(),this.render(),this.initializePageContent()):(0,d.dispatch)((0,l.navigate)("LOGIN"))}))))}))}loadPostsFromFirestore(){return o(this,void 0,void 0,(function*(){const n=localStorage.getItem("external-profile");if(n)try{const e=yield(0,c.getPostsByUser)(n);this.posts=e.map((n=>({post:n.id,comment:n.comment,author:n.author,likes:n.likes||0,imageURL:n.imageURL||""})))}catch(n){console.error("Error al cargar posts:",n)}else console.error("No se ha especificado un usuario externo")}))}initializePageContent(){return o(this,void 0,void 0,(function*(){var n;if(!localStorage.getItem("external-profile"))return void console.error("No se ha especificado un usuario externo");const e=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".container"),t=new a.default,o=new s.default;if(null==e||e.appendChild(t),null==e||e.appendChild(o),0===this.posts.length){const n=document.createElement("p");n.textContent="A√∫n no tienes posts. ¬°Crea tu primer post y comparte tus pensamientos!",n.style.textAlign="center",n.style.color="#777",n.style.marginTop="20px",null==e||e.appendChild(n)}else this.posts.forEach((n=>{this.createPostComponent(n)}))}))}createPostComponent(n){var e;const t=new r.default;t.setAttribute("post",n.post),t.setAttribute("comment",n.comment),n.author&&t.setAttribute("author",n.author),n.likes&&t.setAttribute("likes",n.likes.toString()),n.imageURL&&t.setAttribute("image-url",n.imageURL);const o=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".container");null==o||o.appendChild(t)}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <style>\n                .container {\n                    max-width: 800px;\n                    margin: 0 auto;\n                    padding: 10px;\n                    margin-top: 4rem;\n                }\n                .popup-overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background-color: rgba(0, 0, 0, 0.6); \n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    z-index: 1000;\n                }\n                .popup-container {\n                    background-color: white;\n                    padding: 20px;\n                    border-radius: 8px;\n                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n                    width: 90%;\n                    max-width: 500px;\n                }\n                .close-button {\n                    margin-top: 10px;\n                    background: #ff5f5f;\n                    color: white;\n                    border: none;\n                    padding: 8px 12px;\n                    border-radius: 5px;\n                    cursor: pointer;\n                }\n            </style>\n            <navbar-component></navbar-component>\n            <div class="container"></div>\n            ')}renderLoading(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <style>\n                .loading {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    height: 100vh;\n                    font-size: 1.5rem;\n                }\n            </style>\n            <div class="loading">Cargando...</div>\n            ')}}customElements.define("external-page",u)},236:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=t(445);class r extends HTMLElement{constructor(){super(),this.userData=null,this.avatarUrl=null,this.attachShadow({mode:"open"})}connectedCallback(){return o(this,void 0,void 0,(function*(){const n=localStorage.getItem("external-profile");if(!n)return void console.error("No se ha especificado un usuario externo");const e=yield(0,i.getUserDataById)(n);try{const e=yield(0,i.getImage)(n);this.avatarUrl=e||null}catch(n){console.error("Error al obtener la imagen del usuario:",n),this.avatarUrl=null}this.userData={name:null==e?void 0:e.username,bio:(null==e?void 0:e.bio)||"Hola, soy nuev@ en la comunidad",email:null==e?void 0:e.email,location:(null==e?void 0:e.location)||"En alg√∫n lugar del mundo"},this.render()}))}render(){var n,e,t,o;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n                <style>\n                    .profile-card {\n                        font-family: Arial, sans-serif;\n                        border-radius: 12px;\n                        background-color: white;\n                        padding: 24px;\n                        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n                        margin-bottom: 20px;\n                    }\n                    .profile-header {\n                        display: flex;\n                        gap: 24px;\n                        align-items: flex-start;\n                        margin-bottom: 20px;\n                    }\n                    .avatar {\n                        width: 80px;\n                        height: 80px;\n                        background-color: #e1e1e1;\n                        border-radius: 50%;\n                        background-image: url('${this.avatarUrl||"https://via.placeholder.com/80"}'); /* Imagen por defecto */\n                        background-size: cover;\n                        background-position: center;\n                    }\n                    .profile-info {\n                        flex-grow: 1;\n                    }\n                    .profile-name {\n                        font-size: 32px;\n                        font-weight: bold;\n                        margin: 0 0 8px 0;\n                        color: #000;\n                    }\n                    .profile-bio {\n                        font-size: 18px;\n                        color: #666;\n                        margin: 0 0 16px 0;\n                    }\n                    .profile-details {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 8px;\n                        margin-bottom: 20px;\n                    }\n                    .detail-item {\n                        display: flex;\n                        align-items: center;\n                        gap: 8px;\n                        font-size: 16px;\n                        color: #333;\n                    }\n                    .edit-button {\n                        background-color: #1a1a1a;\n                        color: white;\n                        border: none;\n                        border-radius: 8px;\n                        padding: 12px 24px;\n                        font-size: 16px;\n                        cursor: pointer;\n                        display: flex;\n                        align-items: center;\n                        gap: 8px;\n                    }\n                    .edit-button:hover {\n                        background-color: #333;\n                    }\n                    .icon {\n                        width: 20px;\n                        height: 20px;\n                    }\n                </style>\n                <div class="profile-card">\n                    <div class="profile-header">\n                        <div class="avatar"></div>\n                        <div class="profile-info">\n                            <h1 class="profile-name">${(null===(n=this.userData)||void 0===n?void 0:n.name)||"Cargando..."}</h1>\n                            <p class="profile-bio">${(null===(e=this.userData)||void 0===e?void 0:e.bio)||""}</p>\n                            <div class="profile-details">\n                                <div class="detail-item">\n                                    <span class="icon">‚úâÔ∏è</span>\n                                    ${(null===(t=this.userData)||void 0===t?void 0:t.email)||""}\n                                </div>\n                                <div class="detail-item">\n                                    <span class="icon">üìç</span>\n                                    ${(null===(o=this.userData)||void 0===o?void 0:o.location)||""}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `)}}customElements.define("external-card",r),e.default=r},52:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <style>\n                h2 {\n                    font-size: 2.5rem;\n                    margin-bottom: 1rem;\n                }\n                .cta p {\n                    font-size: 1.2rem;\n                    margin-bottom: 2rem;\n                }\n                .button {\n                    display: inline-block;\n                    padding: 0.5rem 1rem;\n                    background-color: #000;\n                    color: #fff;\n                    text-decoration: none;\n                    border-radius: 5px;\n                    margin: 0 0.5rem;\n                }\n                .cta {\n                    text-align: center;\n                    padding: 2rem 0;\n                }\n            </style>\n           <section class="cta">\n                <h2>√önete a SimplePost hoy</h2>\n                <p>Comienza a compartir y conectar con otros de manera simple y directa.</p>\n                <form>\n                    <input type="email" placeholder="Ingresa tu email" required>\n                    <button type="submit" class="button">Registrarse</button>\n                </form>\n            </section>\n            ')}}customElements.define("cta-landing",t)},999:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <style>\n                .features {\n                    text-align: center;\n                    margin: 3rem 0;\n                    padding: 3rem 0;\n                    background-color: #f9f9f9;\n                }\n                .features h2 {\n                    font-size: 2rem;\n                    margin-bottom: 1rem;\n                }\n                .features p {\n                    font-size: 1.2rem;\n                    margin-bottom: 2rem;\n                }\n                .feature p {\n                    font-size: 1rem;\n                }\n                .features-grid {\n                    display: flex;\n                    justify-content: center;\n                    gap: 1rem;\n\n                }\n                @media (max-width: 768px) {\n                .features-grid {\n                    flex-direction: column;\n                    align-items: center;\n                }\n                }\n            </style>\n           <section class="features">\n                <h2>Caracter√≠sticas simples, gran impacto</h2>\n                <p>Descubre c√≥mo SimplePost te ayuda a conectar de manera efectiva</p>\n                <div class="features-grid">\n                    <div class="feature">\n                        <div class="feature-icon">‚úâÔ∏è</div>\n                        <h3>Publica posts</h3>\n                        <p>Comparte tus ideas y pensamientos con la comunidad.</p>\n                    </div>\n                    <div class="feature">\n                        <div class="feature-icon">üëç</div>\n                        <h3>Reacciona</h3>\n                        <p>Muestra tu aprecio por los posts que te gustan.</p>\n                    </div>\n                    <div class="feature">\n                        <div class="feature-icon">üí¨</div>\n                        <h3>Comenta</h3>\n                        <p>Participa en conversaciones y comparte tu opini√≥n.</p>\n                    </div>\n                </div>\n            </section>\n            ')}}customElements.define("features-landing",t)},255:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <style>\n            footer {\n                background-color: #f7f7f7;\n                padding: 1rem;\n                text-align: center;\n                margin-top: 2rem;\n                display: flex;\n                justify-content: space-between;\n                padding: 0 5rem;\n            }\n            footer p {\n                font-size: 0.8rem;\n            }\n            </style>\n            <footer>\n                <p>&copy; 2023 SimplePost. Todos los derechos reservados.</p>\n                <p>\n                    <a href="#">T√©rminos de Servicio</a> |\n                    <a href="#">Privacidad</a>\n                </p>\n            </footer>\n            ')}}customElements.define("footer-landing",t)},964:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=t(807),i=t(997);class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){if(this.shadowRoot){this.shadowRoot.innerHTML='\n            <style>\n                h1 {\n                    font-size: 2.5rem;\n                    margin-bottom: 1rem;\n                }\n                .hero p {\n                    font-size: 1.2rem;\n                    margin-bottom: 2rem;\n                }\n                .button {\n                    display: inline-block;\n                    padding: 0.5rem 1rem;\n                    background-color: #000;\n                    color: #fff;\n                    text-decoration: none;\n                    border-radius: 5px;\n                    margin: 0 0.5rem;\n                }\n                .button.secondary {\n                    background-color: #fff;\n                    color: #000;\n                    border: 1px solid #000;\n                }\n                .hero {\n                    text-align: center;\n                    padding: 5rem 0;\n                    margin-top: 2rem;\n                }\n            </style>\n            <section class="hero">\n                <h1>Comparte tus pensamientos en SimplePost</h1>\n                <p>Una plataforma simple para compartir ideas, reaccionar y comentar. Con√©ctate de manera sencilla.</p>\n                <a href="#" class="button" id="register">√önete ahora</a>\n                <a href="#" id="go-to-main" class="button secondary">Explora posts</a>\n            </section>\n            ';const n=this.shadowRoot.querySelector("#go-to-main");null==n||n.addEventListener("click",(()=>{(0,o.dispatch)((0,i.navigate)("HOME"))}));const e=this.shadowRoot.querySelector("#register");null==e||e.addEventListener("click",(()=>{(0,o.dispatch)((0,i.navigate)("REGISTER"))}))}}}customElements.define("hero-landing",r)},180:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=t(445),r=t(849);class a extends HTMLElement{constructor(){super(),this.textArea=null,this.submitButton=null,this.fileInput=null,this.addPhotoButton=null,this.selectedFile=null,this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.setupEventListeners()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n                <style>\n                    .post-creator {\n                        font-family: Arial, sans-serif;\n                        border: 1px solid #e1e1e1;\n                        border-radius: 8px;\n                        margin-bottom: 20px;\n                        padding: 16px;\n                        background-color: white;\n                    }\n                    .post-creator-header {\n                        font-size: 18px;\n                        font-weight: bold;\n                        margin-bottom: 12px;\n                    }\n                    .post-textarea {\n                        width: 97%;\n                        height: 100px;\n                        padding: 8px;\n                        margin-bottom: 12px;\n                        border: 1px solid #e1e1e1;\n                        border-radius: 4px;\n                        resize: vertical;\n                        font-size: 14px;\n                        font-family: Arial, sans-serif;\n                    }\n                    .submit-button {\n                        background-color: black;\n                        color: white;\n                        border: none;\n                        border-radius: 4px;\n                        padding: 8px 16px;\n                        font-size: 14px;\n                        cursor: pointer;\n                        transition: background-color 0.3s;\n                    }\n                    .submit-button:hover {\n                        background-color: #1565c0;\n                    }\n                    .add-photo-button {\n                        background: none;\n                        border: none;\n                        cursor: pointer;\n                        font-size: 24px;\n                        margin-right: 10px;\n                    }\n                    .file-input {\n                        display: none;\n                    }\n                    .actions {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                    }\n                    @media (max-width: 600px) {\n                        .post-creator {\n                            padding: 12px;\n                        }\n                        .post-creator-header {\n                            font-size: 16px;\n                        }\n                        .post-textarea {\n                            font-size: 12px;\n                        }\n                        .submit-button {\n                            width: 100%;\n                        }\n                    }\n                </style>\n                <div class="post-creator">\n                    <div class="post-creator-header">Crear nuevo post</div>\n                    <textarea class="post-textarea" placeholder="¬øQu√© estas pensando?"></textarea>\n                    <div class="actions">\n                        <button class="add-photo-button" title="A√±adir foto">üì∑</button>\n                        <button class="submit-button">Publicar</button>\n                    </div>\n                    <input type="file" class="file-input" accept="image/*">\n                </div>\n            ',this.textArea=this.shadowRoot.querySelector(".post-textarea"),this.submitButton=this.shadowRoot.querySelector(".submit-button"),this.fileInput=this.shadowRoot.querySelector(".file-input"),this.addPhotoButton=this.shadowRoot.querySelector(".add-photo-button"))}setupEventListeners(){var n,e,t;null===(n=this.submitButton)||void 0===n||n.addEventListener("click",this.handleSubmit.bind(this)),null===(e=this.addPhotoButton)||void 0===e||e.addEventListener("click",this.handleAddPhotoClick.bind(this)),null===(t=this.fileInput)||void 0===t||t.addEventListener("change",this.handleFileSelect.bind(this))}handleAddPhotoClick(){var n;null===(n=this.fileInput)||void 0===n||n.click()}handleFileSelect(n){const e=n.target;e.files&&e.files.length>0&&(this.selectedFile=e.files[0],this.addPhotoButton.textContent="üì∑‚úì")}handleSubmit(){return o(this,void 0,void 0,(function*(){var n;const e=null===(n=this.textArea)||void 0===n?void 0:n.value,t=(0,i.getCurrentUserName)();let o="";if(e)try{this.selectedFile&&(o=(yield(0,r.uploadImage)(this.selectedFile)).secure_url);const n=new CustomEvent("new-post",{detail:{comment:e,author:t,likes:0,imageURL:o},bubbles:!0});this.dispatchEvent(n),this.textArea&&(this.textArea.value=""),this.selectedFile=null,this.addPhotoButton&&(this.addPhotoButton.textContent="üì∑"),this.fileInput&&(this.fileInput.value="")}catch(n){console.error("Error al publicar el post:",n),alert("Hubo un error al publicar tu post. Por favor, intenta de nuevo.")}else alert("Por favor, escribe algo antes de publicar")}))}}customElements.define("post-creator",a),e.default=a},780:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=t(997),r=t(807),a=t(445);class s extends HTMLElement{static get observedAttributes(){return["comment","author","likes","post","image-url"]}constructor(){super(),this.comment="",this.author="",this.likes=[],this.comments=[],this.postId="",this.imageURL="",this.attachShadow({mode:"open"})}connectedCallback(){return o(this,void 0,void 0,(function*(){this.render(),yield this.loadPostData()}))}attributeChangedCallback(n,e,t){if(e!==t){switch(n){case"comment":this.comment=t;break;case"author":this.author=t;break;case"likes":try{this.likes=JSON.parse(t)}catch(n){this.likes=[]}break;case"post":this.postId=t;break;case"image-url":this.imageURL=t}this.render()}}loadPostData(){return o(this,void 0,void 0,(function*(){if(this.postId){const n=yield(0,a.getCommentsForPost)(this.postId);this.comments=n.map((n=>({author:n.author,comment:n.comment})));const e=yield(0,a.getLikesForPost)(this.postId);this.likes=e||[],this.render()}else console.error("No se ha establecido un ID de post")}))}addComment(n){return o(this,void 0,void 0,(function*(){this.postId?(yield(0,a.addCommentToPost)(this.postId,n),this.loadPostData()):console.error("No se ha establecido un ID de post")}))}toggleLike(){const n=localStorage.getItem("user"),e=n?JSON.parse(n).username:null;e?(this.likes.includes(e)?((0,a.removeLike)(this.postId,e),this.likes=this.likes.filter((n=>n!==e))):((0,a.likePost)(this.postId,e),this.likes.push(e)),this.render()):alert("Debes iniciar sesi√≥n para dar like")}render(){var n;if(this.shadowRoot){this.shadowRoot.innerHTML=`\n                <style>\n                    .post {\n                        font-family: Arial, sans-serif;\n                        border: 1px solid #e1e1e1;\n                        border-radius: 8px;\n                        margin-bottom: 20px;\n                        padding: 16px;\n                        max-width: 100%;\n                        background-color: white;\n                    }\n                    .post-header {\n                        display: flex;\n                        align-items: center;\n                        margin-bottom: 12px;\n                        cursor: pointer;\n                    }\n                    .avatar {\n                        width: 40px;\n                        height: 40px;\n                        border-radius: 50%;\n                        background-color: black;\n                        color: white;\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        font-weight: bold;\n                        margin-right: 12px;\n                    }\n                    .author {\n                        font-weight: bold;\n                    }\n                    .comment {\n                        margin-bottom: 12px;\n                        overflow-wrap: break-word;\n                        word-wrap: break-word; \n                        hyphens: auto; \n                    }\n                    .actions {\n                        display: flex;\n                        align-items: center;\n                        margin-bottom: 12px;\n                    }\n                    .action-button {\n                        background: none;\n                        border: none;\n                        cursor: pointer;\n                        display: flex;\n                        align-items: center;\n                        margin-right: 16px;\n                    }\n                    .comments {\n                        margin-top: 12px;\n                    }\n                    .comment {\n                        margin-bottom: 8px;\n                    }\n                    .comment-input {\n                        width: 97%;\n                        padding: 8px;\n                        border: 1px solid #e1e1e1;\n                        border-radius: 4px;\n                    }\n                        .post-image {\n                    max-width: 100%;\n                    height: auto;\n                    margin-top: 12px;\n                    border-radius: 8px;\n                }\n                </style>\n                <div class="post">\n                    <div class="post-header">\n                        <div class="avatar">${this.author[0]}</div>\n                         <span class="author clickable">${this.author}</span>\n                    </div>\n                    <div class="comment">${this.comment}</div>\n                       ${this.imageURL?`<img src="${this.imageURL}" class="post-image" />`:""}\n                    <div class="actions">\n                        <button class="action-button" id="like-button">\n                            üëç ${this.likes.length}\n                        </button>\n                        <button class="action-button">\n                            üí¨ ${this.comments.length}\n                        </button>\n                    </div>\n                    <div class="comments">\n                        ${this.comments.map((n=>`\n                            <div class="comment">\n                                <span class="author">${n.author}:</span> ${n.comment}\n                            </div>\n                        `)).join("")}\n                    </div>\n                    <input type="text" class="comment-input" placeholder="Escribe un comentario...">\n                </div>\n            `;const e=this.shadowRoot.getElementById("like-button");null==e||e.addEventListener("click",this.toggleLike.bind(this));const t=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".comment-input");null==t||t.addEventListener("keypress",(n=>{if("Enter"===n.key){const e=n.target;this.addComment(e.value),e.value=""}}));const o=this.shadowRoot.querySelector(".post-header");null==o||o.addEventListener("click",(()=>{(0,a.getUserIdFromPost)(this.postId).then((n=>{localStorage.setItem("external-profile",n),(0,r.dispatch)((0,i.navigate)("EXTERNAL_PROFILE"))}))}))}}}customElements.define("post-component",s),e.default=s},952:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=t(807),r=t(997),a=t(445);class s extends HTMLElement{constructor(){super(),this.mobileMenuOpen=!1,this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.addEventListeners()}addEventListeners(){var n;const e=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".menu-toggle");null==e||e.addEventListener("click",(()=>this.toggleMobileMenu()))}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen,this.render(),this.addEventListeners()}render(){if(this.shadowRoot){const n="landing"===i.appState.screen;this.shadowRoot.innerHTML=`\n                <style>\n                    :host {\n                        display: block;\n                        width: 100%;\n                        position: fixed;\n                        top: 0;\n                        left: 0;\n                        right: 0;\n                        z-index: 1000;\n                    }\n                    .nav-container{\n                        background-color: white;\n                        box-shadow: ${n?"none":"0 2px 4px rgba(0, 0, 0, 0.1)"};\n                    }\n                    .navbar {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                        padding: 1rem 1rem;\n                        max-width: 1200px;\n                        margin: 0 auto;\n                        background-color: white;\n                    }\n                    .logo {\n                        display: flex;\n                        align-items: center;\n                        font-size: 1.5rem;\n                        font-weight: bold;\n                        color: #333;\n                        text-decoration: none;\n                        cursor: pointer;\n                    }\n                    .logo-icon {\n                        width: 24px;\n                        height: 24px;\n                        margin-right: 0.5rem;\n                        border: 2px solid #333;\n                        border-radius: 4px;\n                    }\n                    .nav-buttons {\n                        display: flex;\n                        gap: 1rem;\n\n                    }\n                    .nav-button {\n                        background: none;\n                        border: none;\n                        cursor: pointer;\n                        font-size: 1rem;\n                        color: #333;\n                        display: flex;\n                        align-items: center;\n                        text-decoration: none;\n                    }\n                    .nav-button:hover {\n                        text-decoration: none;\n                    }\n                    .icon {\n                        width: 20px;\n                        height: 20px;\n                        margin-right: 0.5rem;\n                    }\n                    .menu-toggle {\n                        display: none;\n                        background: none;\n                        border: none;\n                        cursor: pointer;\n                        font-size: 1.5rem;\n                    }\n                    @media (max-width: 768px) {\n                        .nav-buttons {\n                            display: ${this.mobileMenuOpen?"flex":"none"};\n                            flex-direction: column;\n                            position: absolute;\n                            top: 100%;\n                            left: 0;\n                            right: 0;\n                            background-color: white;\n                            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n                            padding: 1rem;\n                        }\n                        .menu-toggle {\n                            display: block;\n                        }\n                    }\n                </style>\n                <div class="nav-container">\n                <nav class="navbar">\n                    <div class="logo">\n                        <div class="logo-icon"></div>\n                        SimplePost\n                    </div>\n                    <button class="menu-toggle">‚ò∞</button>\n                    <div class="nav-buttons">\n                    ${n?'\n                        <button class="nav-button" id="iniciar-sesion">\n                            Iniciar Sesi√≥n\n                        </button>\n                        <button class="nav-button" id="registrarse">\n                            Registrarse\n                        </button>':'\n                        <button class="nav-button" id="perfil">\n                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>\n                                <circle cx="12" cy="7" r="4"></circle>\n                            </svg>\n                            Mi Perfil\n                        </button>\n                        <button class="nav-button" id="cerrar-sesion">\n                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>\n                                <polyline points="16 17 21 12 16 7"></polyline>\n                                <line x1="21" y1="12" x2="9" y2="12"></line>\n                            </svg>\n                            Cerrar Sesi√≥n\n                        </button>'}\n                    </div>\n                </nav>\n                </div>\n            `;const e=this.shadowRoot.querySelector("#cerrar-sesion");null==e||e.addEventListener("click",(()=>o(this,void 0,void 0,(function*(){yield(0,a.logoutUser)()}))));const t=this.shadowRoot.querySelector(".logo");null==t||t.addEventListener("click",(()=>{(0,i.dispatch)((0,r.navigate)("HOME"))}));const s=this.shadowRoot.querySelector("#perfil");null==s||s.addEventListener("click",(()=>{(0,i.dispatch)((0,r.navigate)("PROFILE"))}))}}}customElements.define("navbar-component",s),e.default=s},730:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=t(445),r=t(849);class a extends HTMLElement{constructor(){super(),this.form=null,this.imageInput=null,this.avatarPreview=null,this.avatarUrl=null,this.userData=null,this.attachShadow({mode:"open"})}connectedCallback(){return o(this,void 0,void 0,(function*(){const n=yield(0,i.getCurrentUserCredentials)(),e=yield(0,i.getCurrentUserId)();try{const n=yield(0,i.getImage)(e);this.avatarUrl=n||null}catch(n){console.error("Error al obtener la imagen del usuario:",n),this.avatarUrl=null}this.userData={name:yield(0,i.getCurrentUserName)(),bio:(yield(0,i.getCurrentUserBio)())||"Hola, soy nuevo en la comunidad",email:null==n?void 0:n.email,location:(yield(0,i.getCurrentUserLocation)())||"En alg√∫n lugar del mundo"},this.render(),this.setupEventListeners()}))}render(){var n,e,t,o;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n                <style>\n                    .editor-container {\n                        font-family: Arial, sans-serif;\n                        max-width: 90vw; /* Cambia el ancho m√°ximo en m√≥viles */\n                        margin: 16px auto; /* Reduce el margen */\n                        padding: 16px; /* Ajusta el padding para pantallas m√°s peque√±as */\n                        background: white;\n                        border-radius: 12px;\n                        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n                    }\n          \n                    @media (max-width: 600px) {\n                        .editor-container {\n                            max-width: 95vw;\n                            max-height: 70%;\n                            padding: 12px;\n                        }\n\n                        .save-button {\n                            width: 100%;\n                        }\n\n                        h1 {\n                            font-size: 20px; /* Reduce el tama√±o del t√≠tulo */\n                        }\n                    }\n\n                    h1 {\n                        font-size: 24px;\n                        margin: 0 0 24px 0;\n                        color: #000;\n                    }\n\n                    .avatar-section {\n                        display: flex;\n                        flex-direction: column;\n                        align-items: center;\n                        margin-bottom: 32px;\n                    }\n\n                    .avatar-preview {\n                        width: 100px;\n                        height: 100px;\n                        border-radius: 50%;\n                        background-color: #e1e1e1;\n                        margin-bottom: 16px;\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                    }\n\n                    .change-photo-btn {\n                        background: none;\n                        border: 1px solid #ccc;\n                        padding: 8px 16px;\n                        border-radius: 6px;\n                        cursor: pointer;\n                        display: flex;\n                        align-items: center;\n                        gap: 8px;\n                        color: #333;\n                    }\n\n                    .form-group {\n                        margin-bottom: 24px;\n                    }\n\n                    label {\n                        display: block;\n                        margin-bottom: 8px;\n                        color: #333;\n                        font-weight: 500;\n                    }\n\n                    input, textarea {\n                        width: 100%;\n                        padding: 12px;\n                        border: 1px solid #ddd;\n                        border-radius: 6px;\n                        font-size: 16px;\n                        box-sizing: border-box;\n                    }\n\n                    textarea {\n                        min-height: 100px;\n                        resize: vertical;\n                    }\n\n                    .save-button {\n                        background-color: #1a1a1a;\n                        color: white;\n                        border: none;\n                        padding: 12px 24px;\n                        border-radius: 6px;\n                        font-size: 16px;\n                        cursor: pointer;\n                        float: right;\n                    }\n\n                    .save-button:hover {\n                        background-color: #333;\n                    }\n\n                    #imageInput {\n                        display: none;\n                    }\n                </style>\n\n                <div class="editor-container">\n                    <h1>Editar Perfil</h1>\n                    \n                    <form id="profileForm">\n                        <div class="avatar-section">\n                            <div class="avatar-preview">\n                             ${this.avatarUrl?`<img src="${this.avatarUrl}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">`:'\n                                <svg width="40" height="40" viewBox="0 0 24 24" fill="#666">\n                                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>\n                                </svg>'}\n                            </div>\n                            <input type="file" id="imageInput" accept="image/*">\n                            <button type="button" class="change-photo-btn">\n                                üì∑ Cambiar foto\n                            </button>\n                        </div>\n\n                        <div class="form-group">\n                            <label for="name">Nombre</label>\n                            <input type="text" id="name" name="name" value="${(null===(n=this.userData)||void 0===n?void 0:n.name)||""}" required>\n                        </div>\n\n                        <div class="form-group">\n                            <label for="email">Correo electr√≥nico</label>\n                            <input type="email" id="email" name="email" value="${(null===(e=this.userData)||void 0===e?void 0:e.email)||""}" required>\n                        </div>\n\n                        <div class="form-group">\n                            <label for="bio">Biograf√≠a</label>\n                            <textarea id="bio" name="bio" required>${(null===(t=this.userData)||void 0===t?void 0:t.bio)||""}</textarea>\n                        </div>\n\n                        <div class="form-group">\n                            <label for="location">Ubicaci√≥n</label>\n                            <input type="text" id="location" name="location" value="${(null===(o=this.userData)||void 0===o?void 0:o.location)||""}" required>\n                        </div>\n\n                        <button type="submit" class="save-button">Guardar cambios</button>\n                    </form>\n                </div>\n            `,this.form=this.shadowRoot.querySelector("#profileForm"),this.imageInput=this.shadowRoot.querySelector("#imageInput"),this.avatarPreview=this.shadowRoot.querySelector(".avatar-preview"))}setupEventListeners(){var n,e,t;null===(n=this.form)||void 0===n||n.addEventListener("submit",this.handleSubmit.bind(this));const o=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".change-photo-btn");null==o||o.addEventListener("click",(()=>{var n;null===(n=this.imageInput)||void 0===n||n.click()})),null===(t=this.imageInput)||void 0===t||t.addEventListener("change",this.handleImageChange.bind(this))}handleImageChange(n){return o(this,void 0,void 0,(function*(){const e=n.target;if(e.files&&e.files[0]){const n=e.files[0];try{const e=yield(0,i.getCurrentUserId)(),t=yield(0,r.uploadprofileImage)(n,e);if(this.avatarPreview){const n=`${t.secure_url}?v=${t.version}&timestamp=${(new Date).getTime()}`;this.avatarPreview.innerHTML=`<img src="${n}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">`}(0,i.setUserImage)(e,t.secure_url)}catch(n){console.error("Error al subir la imagen:",n)}}}))}handleSubmit(n){return o(this,void 0,void 0,(function*(){n.preventDefault();const e=new FormData(n.target),t={username:e.get("name"),email:e.get("email"),bio:e.get("bio"),location:e.get("location")};try{const n=yield(0,i.getCurrentUserId)();yield(0,i.updateUser)(n,t);const e=new CustomEvent("profile-updated",{detail:t,bubbles:!0});alert("Perfil actualizado correctamente"),this.dispatchEvent(e)}catch(n){console.error("Error al guardar los cambios:",n),alert("Error al guardar los cambios. Por favor, intenta de nuevo.")}}))}}customElements.define("profile-editor",a),e.default=a},960:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=t(445);class r extends HTMLElement{constructor(){super(),this.userData=null,this.avatarUrl=null,this.attachShadow({mode:"open"})}connectedCallback(){return o(this,void 0,void 0,(function*(){const n=yield(0,i.getCurrentUserCredentials)(),e=yield(0,i.getCurrentUserId)();try{const n=yield(0,i.getImage)(e);this.avatarUrl=n||null}catch(n){console.error("Error al obtener la imagen del usuario:",n),this.avatarUrl=null}this.userData={name:yield(0,i.getCurrentUserName)(),bio:(yield(0,i.getCurrentUserBio)())||"Hola, soy nuevo en la comunidad",email:null==n?void 0:n.email,location:(yield(0,i.getCurrentUserLocation)())||"En alg√∫n lugar del mundo"},this.render(),this.setupEventListeners()}))}render(){var n,e,t,o;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n                <style>\n                    .profile-card {\n                        font-family: Arial, sans-serif;\n                        border-radius: 12px;\n                        background-color: white;\n                        padding: 24px;\n                        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n                        margin-bottom: 20px;\n                    }\n                    .profile-header {\n                        display: flex;\n                        gap: 24px;\n                        align-items: flex-start;\n                        margin-bottom: 20px;\n                    }\n                    .avatar {\n                        width: 80px;\n                        height: 80px;\n                        background-color: #e1e1e1;\n                        border-radius: 50%;\n                        background-image: url('${this.avatarUrl||"https://via.placeholder.com/80"}'); /* Imagen por defecto */\n                        background-size: cover;\n                        background-position: center;\n                    }\n                    .profile-info {\n                        flex-grow: 1;\n                    }\n                    .profile-name {\n                        font-size: 32px;\n                        font-weight: bold;\n                        margin: 0 0 8px 0;\n                        color: #000;\n                    }\n                    .profile-bio {\n                        font-size: 18px;\n                        color: #666;\n                        margin: 0 0 16px 0;\n                    }\n                    .profile-details {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 8px;\n                        margin-bottom: 20px;\n                    }\n                    .detail-item {\n                        display: flex;\n                        align-items: center;\n                        gap: 8px;\n                        font-size: 16px;\n                        color: #333;\n                    }\n                    .edit-button {\n                        background-color: #1a1a1a;\n                        color: white;\n                        border: none;\n                        border-radius: 8px;\n                        padding: 12px 24px;\n                        font-size: 16px;\n                        cursor: pointer;\n                        display: flex;\n                        align-items: center;\n                        gap: 8px;\n                    }\n                    .edit-button:hover {\n                        background-color: #333;\n                    }\n                    .icon {\n                        width: 20px;\n                        height: 20px;\n                    }\n                </style>\n                <div class="profile-card">\n                    <div class="profile-header">\n                        <div class="avatar"></div>\n                        <div class="profile-info">\n                            <h1 class="profile-name">${(null===(n=this.userData)||void 0===n?void 0:n.name)||"Cargando..."}</h1>\n                            <p class="profile-bio">${(null===(e=this.userData)||void 0===e?void 0:e.bio)||""}</p>\n                            <div class="profile-details">\n                                <div class="detail-item">\n                                    <span class="icon">‚úâÔ∏è</span>\n                                    ${(null===(t=this.userData)||void 0===t?void 0:t.email)||""}\n                                </div>\n                                <div class="detail-item">\n                                    <span class="icon">üìç</span>\n                                    ${(null===(o=this.userData)||void 0===o?void 0:o.location)||""}\n                                </div>\n                            </div>\n                            <button class="edit-button">\n                                <span class="icon">‚öôÔ∏è</span>\n                                Editar Perfil\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            `)}setupEventListeners(){var n;const e=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".edit-button");null==e||e.addEventListener("click",(()=>{const n=new CustomEvent("edit-profile",{bubbles:!0,composed:!0});this.dispatchEvent(n)}))}}customElements.define("profile-card",r),e.default=r},328:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=t(807),i=t(997);t(952),t(964),t(999),t(52),t(255);class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){if(this.shadowRoot){this.shadowRoot.innerHTML='\n                <style>\n                    h1 {\n                        font-size: 2.5rem;\n                        margin-bottom: 1rem;\n                    }\n                    .hero p {\n                        font-size: 1.2rem;\n                        margin-bottom: 2rem;\n                    }\n                    .button {\n                        display: inline-block;\n                        padding: 0.5rem 1rem;\n                        background-color: #000;\n                        color: #fff;\n                        text-decoration: none;\n                        border-radius: 5px;\n                        margin: 0 0.5rem;\n                    }\n                    .button.secondary {\n                        background-color: #fff;\n                        color: #000;\n                        border: 1px solid #000;\n                    }\n                    \n                    @media (max-width: 768px) {\n                        .hero h1 {\n                            font-size: 2rem;\n                        }\n                    }\n                </style>\n                <div class="container">\n                    <navbar-component></navbar-component>\n                    <hero-landing></hero-landing>\n                    <features-landing></features-landing>\n                    <cta-landing></cta-landing>\n                    <footer-landing></footer-landing>\n                    \n                </div>\n            ';const n=this.shadowRoot.querySelector("#go-to-main");null==n||n.addEventListener("click",(()=>{(0,o.dispatch)((0,i.navigate)("HOME"))}))}}}customElements.define("landing-page",r)},18:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=t(997),r=t(807),a=t(445);class s extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.formData={email:"",password:""}}connectedCallback(){this.render(),this.setupEventListeners()}setupEventListeners(){var n,e;const t=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("form"),i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelectorAll("input");null==i||i.forEach((n=>{n.addEventListener("input",(n=>{const e=n.target;this.formData[e.name]=e.value}))})),null==t||t.addEventListener("submit",(n=>o(this,void 0,void 0,(function*(){n.preventDefault();try{yield(0,a.loginUser)(this.formData.email,this.formData.password)}catch(n){console.error(n.message)}}))))}render(){if(this.shadowRoot){this.shadowRoot.innerHTML='\n                <style>\n                    :host {\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        min-height: 100vh;\n                        background-color: #f5f5f5;\n                        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;\n                    }\n\n                    .container {\n                        max-width: 400px;\n                        margin: 0 auto;\n                        padding: 2rem 1rem;\n                        box-sizing: border-box;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        flex-direction: column;\n                    }\n\n                    .card {\n                        background: white;\n                        border-radius: 8px;\n                        padding: 2rem;\n                        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n                    }\n\n                    .header {\n                        text-align: center;\n                        margin-bottom: 2rem;\n                    }\n\n                    .logo-container {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        gap: 0.5rem;\n                        margin-bottom: 1rem;\n                    }\n\n                    .logo-text {\n                        font-size: 1.5rem;\n                        font-weight: bold;\n                    }\n\n                    .subtitle {\n                        color: #666;\n                        font-size: 0.875rem;\n                        margin: 0;\n                    }\n\n                    .form-group {\n                        margin-bottom: 1.5rem;\n                    }\n\n                    label {\n                        display: block;\n                        margin-bottom: 0.5rem;\n                        font-size: 0.875rem;\n                        font-weight: 500;\n                    }\n\n                    input {\n                        width: 100%;\n                        padding: 0.75rem;\n                        border: 1px solid #ddd;\n                        border-radius: 4px;\n                        font-size: 1rem;\n                        box-sizing: border-box;\n                    }\n\n                    input:focus {\n                        outline: none;\n                        border-color: #000;\n                    }\n\n                    input::placeholder {\n                        color: #999;\n                    }\n\n                    button {\n                        width: 100%;\n                        padding: 0.75rem;\n                        background: #000;\n                        color: white;\n                        border: none;\n                        border-radius: 4px;\n                        font-size: 0.875rem;\n                        font-weight: 500;\n                        cursor: pointer;\n                        transition: background-color 0.2s;\n                    }\n\n                    button:hover {\n                        background: #333;\n                    }\n\n                    .footer {\n                        text-align: center;\n                        margin-top: 1rem;\n                        font-size: 0.875rem;\n                        color: #666;\n                    }\n\n                    .footer a {\n                        color: #000;\n                        text-decoration: none;\n                        font-weight: 500;\n                    }\n\n                    .footer a:hover {\n                        text-decoration: underline;\n                    }\n                    #redirect {\n                    cursor: pointer;\n                    color: #000;\n                    }\n\n                    @media (min-width: 768px) {\n                        .container {\n                            padding-top: 4rem;\n                        }\n                    }\n                </style>\n\n                <div class="container">\n                    <div class="card">\n                        <div class="header">\n                            <div class="logo-container">\n                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                                    <path d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />\n                                </svg>\n                                <span class="logo-text">SimplePost</span>\n                            </div>\n                            <p class="subtitle">Inicia Sesi√≥n y comparte tus ideas con amigos </p>\n                        </div>\n\n                        <form>\n\n                            <div class="form-group">\n                                <label for="email">Correo electr√≥nico</label>\n                                <input \n                                    type="email" \n                                    id="email" \n                                    name="email" \n                                    placeholder="tu@email.com"\n                                    required\n                                >\n                            </div>\n\n                            <div class="form-group">\n                                <label for="password">Contrase√±a</label>\n                                <input \n                                    type="password" \n                                    id="password" \n                                    name="password"\n                                    required\n                                >\n                            </div>\n\n                            <button type="submit">Iniciar Sesi√≥n</button>\n                        </form>\n                    </div>\n\n                    <div class="footer">\n                        A√∫n no tienes una cuenta? <span id=\'redirect\'>Reg√≠strate</span>\n                    </div>\n                </div>\n            ';const n=this.shadowRoot.querySelector("#redirect");null==n||n.addEventListener("click",(()=>{(0,r.dispatch)((0,i.navigate)("REGISTER"))}))}}}customElements.define("login-page",s)},158:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))},i=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(t(780)),a=i(t(180)),s=i(t(952)),d=t(807),l=t(997),c=t(445);class u extends HTMLElement{constructor(){super(),this.posts=[],this.unsubscribe=null,this.attachShadow({mode:"open"})}connectedCallback(){return o(this,void 0,void 0,(function*(){this.renderLoading();const{auth:n}=yield(0,c.getFirebaseInstance)();n&&n.onAuthStateChanged((n=>o(this,void 0,void 0,(function*(){n?(this.render(),this.initializePageContent(),this.unsubscribe=yield(0,c.subscribeToPosts)((n=>{this.posts=n.map((n=>({post:n.id,comment:n.comment,author:n.author,likes:n.likes||0,imageURL:n.imageURL||""}))),this.refreshPosts()}))):(0,d.dispatch)((0,l.navigate)("LOGIN"))}))))}))}refreshPosts(){var n;const e=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".container");e&&(e.querySelectorAll(".post").forEach((n=>n.remove())),this.posts.forEach((n=>{this.createPostComponent(n)})))}disconnectedCallback(){this.unsubscribe&&this.unsubscribe()}initializePageContent(){var n,e;const t=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".container"),i=new s.default,r=new a.default;null==t||t.appendChild(i),null==t||t.appendChild(r),this.posts.forEach((n=>{this.createPostComponent(n)})),null===(e=this.shadowRoot)||void 0===e||e.addEventListener("new-post",(n=>o(this,void 0,void 0,(function*(){const{comment:e,author:t,imageURL:o}=n.detail,i={post:"",comment:e,author:t,likes:0,imageURL:o};try{const n=yield(0,c.addPost)(i);i.post=n,this.createPostComponent(i,!0)}catch(n){console.error("Error al agregar el post al DOM:",n)}}))))}createPostComponent(n,e=!1){var t;const o=new r.default;o.setAttribute("post",n.post),o.setAttribute("comment",n.comment),o.classList.add("post"),n.author&&o.setAttribute("author",n.author),n.likes&&o.setAttribute("likes",n.likes.toString()),n.imageURL&&o.setAttribute("image-url",n.imageURL);const i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".container"),a=null==i?void 0:i.querySelector("post-creator");e&&a?null==i||i.insertBefore(o,a.nextSibling):null==i||i.appendChild(o)}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=' \n            <style>\n                .container {\n                    max-width: 800px;\n                    margin: 0 auto;\n                    padding: 10px;\n                    margin-top: 4rem;\n                }\n            </style>\n            <navbar-component></navbar-component>\n            <div class="container"></div>\n            ')}renderLoading(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <style>\n                .loading {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    height: 100vh;\n                    font-size: 1.5rem;\n                }\n            </style>\n            <div class="loading">Cargando...</div>\n            ')}}customElements.define("main-page",u)},674:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))},i=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(t(780)),a=i(t(952)),s=i(t(960)),d=i(t(730)),l=t(807),c=t(997),u=t(445);class p extends HTMLElement{constructor(){super(),this.posts=[],this.isEditing=!1,this.attachShadow({mode:"open"})}connectedCallback(){return o(this,void 0,void 0,(function*(){this.renderLoading();const{auth:n}=yield(0,u.getFirebaseInstance)();n&&n.onAuthStateChanged((n=>o(this,void 0,void 0,(function*(){n?(yield this.loadPostsFromFirestore(),this.render(),this.initializePageContent()):(0,l.dispatch)((0,c.navigate)("LOGIN"))}))))}))}loadPostsFromFirestore(){return o(this,void 0,void 0,(function*(){const n=yield(0,u.getCurrentUserId)();try{const e=yield(0,u.getPostsByUser)(n);this.posts=e.map((n=>({post:n.id,comment:n.comment,author:n.author,likes:n.likes||0,imageURL:n.imageURL||""})))}catch(n){console.error("Error al cargar posts:",n)}}))}initializePageContent(){return o(this,void 0,void 0,(function*(){var n;const e=yield(0,u.getCurrentUserId)(),t=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".container"),o=new a.default,i=new s.default;if(null==t||t.appendChild(o),null==t||t.appendChild(i),i.addEventListener("profile-updated",(n=>{const t=n;(0,u.updateUser)(e,t.detail)})),i.addEventListener("edit-profile",(()=>{this.openProfileEditorPopup()})),0===this.posts.length){const n=document.createElement("p");n.textContent="A√∫n no tienes posts. ¬°Crea tu primer post y comparte tus pensamientos!",n.style.textAlign="center",n.style.color="#777",n.style.marginTop="20px",null==t||t.appendChild(n)}else this.posts.forEach((n=>{this.createPostComponent(n)}))}))}openProfileEditorPopup(){var n;const e=document.createElement("div");e.classList.add("popup-overlay");const t=document.createElement("div");t.classList.add("popup-container");const o=new d.default;t.appendChild(o);const i=document.createElement("button");i.textContent="Cerrar",i.classList.add("close-button"),i.addEventListener("click",(()=>{var n;null===(n=this.shadowRoot)||void 0===n||n.removeChild(e),window.location.reload()})),t.appendChild(i),e.appendChild(t),null===(n=this.shadowRoot)||void 0===n||n.appendChild(e)}createPostComponent(n){var e;const t=new r.default;t.setAttribute("post",n.post),t.setAttribute("comment",n.comment),n.author&&t.setAttribute("author",n.author),n.likes&&t.setAttribute("likes",n.likes.toString()),n.imageURL&&t.setAttribute("image-url",n.imageURL);const o=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".container");null==o||o.appendChild(t)}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <style>\n                .container {\n                    max-width: 800px;\n                    margin: 0 auto;\n                    padding: 10px;\n                    margin-top: 4rem;\n                }\n                .popup-overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background-color: rgba(0, 0, 0, 0.6); \n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    z-index: 1000;\n                }\n                .popup-container {\n                    background-color: white;\n                    padding: 20px;\n                    border-radius: 8px;\n                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n                    width: 90%;\n                    max-width: 500px;\n                }\n                .close-button {\n                    margin-top: 10px;\n                    background: #ff5f5f;\n                    color: white;\n                    border: none;\n                    padding: 8px 12px;\n                    border-radius: 5px;\n                    cursor: pointer;\n                }\n            </style>\n            <navbar-component></navbar-component>\n            <div class="container"></div>\n            ')}renderLoading(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n            <style>\n                .loading {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    height: 100vh;\n                    font-size: 1.5rem;\n                }\n            </style>\n            <div class="loading">Cargando...</div>\n            ')}}customElements.define("profile-page",p)},622:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=t(807),r=t(997),a=t(445);class s extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.formData={username:"",email:"",password:"",confirmPassword:""}}connectedCallback(){this.render(),this.setupEventListeners()}setupEventListeners(){var n,e;const t=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("form"),i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelectorAll("input");null==i||i.forEach((n=>{n.addEventListener("input",(n=>{const e=n.target;this.formData[e.name]=e.value}))})),null==t||t.addEventListener("submit",(n=>o(this,void 0,void 0,(function*(){if(n.preventDefault(),this.validateForm())try{(yield(0,a.registerUser)({email:this.formData.email,password:this.formData.password,username:this.formData.username}))?alert("Registro exitoso!"):alert("Hubo un error en el registro.")}catch(n){console.error("Error en el registro:",n),alert("Error en el registro. Intenta nuevamente.")}}))))}validateForm(){return this.formData.password===this.formData.confirmPassword||(alert("Las contrase√±as no coinciden"),!1)}render(){if(this.shadowRoot){this.shadowRoot.innerHTML='\n                <style>\n                    :host {\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        min-height: 100vh;\n                        background-color: #f5f5f5;\n                        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;\n                    }\n\n                    .container {\n                        max-width: 400px;\n                        margin: 0 auto;\n                        padding: 2rem 1rem;\n                        box-sizing: border-box;\n                    }\n\n                    .card {\n                        background: white;\n                        border-radius: 8px;\n                        padding: 2rem;\n                        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n                    }\n\n                    .header {\n                        text-align: center;\n                        margin-bottom: 2rem;\n                    }\n\n                    .logo-container {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        gap: 0.5rem;\n                        margin-bottom: 1rem;\n                    }\n\n                    .logo-text {\n                        font-size: 1.5rem;\n                        font-weight: bold;\n                    }\n\n                    .subtitle {\n                        color: #666;\n                        font-size: 0.875rem;\n                        margin: 0;\n                    }\n\n                    .form-group {\n                        margin-bottom: 1.5rem;\n                    }\n\n                    label {\n                        display: block;\n                        margin-bottom: 0.5rem;\n                        font-size: 0.875rem;\n                        font-weight: 500;\n                    }\n\n                    input {\n                        width: 100%;\n                        padding: 0.75rem;\n                        border: 1px solid #ddd;\n                        border-radius: 4px;\n                        font-size: 1rem;\n                        box-sizing: border-box;\n                    }\n\n                    input:focus {\n                        outline: none;\n                        border-color: #000;\n                    }\n\n                    input::placeholder {\n                        color: #999;\n                    }\n\n                    button {\n                        width: 100%;\n                        padding: 0.75rem;\n                        background: #000;\n                        color: white;\n                        border: none;\n                        border-radius: 4px;\n                        font-size: 0.875rem;\n                        font-weight: 500;\n                        cursor: pointer;\n                        transition: background-color 0.2s;\n                    }\n\n                    button:hover {\n                        background: #333;\n                    }\n\n                    .footer {\n                        text-align: center;\n                        margin-top: 1rem;\n                        font-size: 0.875rem;\n                        color: #666;\n                    }\n\n                    .footer a {\n                        color: #000;\n                        text-decoration: none;\n                        font-weight: 500;\n                    }\n\n                    .footer a:hover {\n                        text-decoration: underline;\n                    }\n\n                    @media (min-width: 768px) {\n                        .container {\n                            padding-top: 4rem;\n                        }\n                    }\n                    #redirect {\n                        cursor: pointer;\n                        color: #000;\n                    }\n                </style>\n\n                <div class="container">\n                    <div class="card">\n                        <div class="header">\n                            <div class="logo-container">\n                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                                    <path d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />\n                                </svg>\n                                <span class="logo-text">SimplePost</span>\n                            </div>\n                            <p class="subtitle">Crea una cuenta y comienza a compartir tus ideas</p>\n                        </div>\n\n                        <form>\n                            <div class="form-group">\n                                <label for="username">Nombre de usuario</label>\n                                <input \n                                    type="text" \n                                    id="username" \n                                    name="username" \n                                    placeholder="Tu nombre de usuario"\n                                    required\n                                >\n                            </div>\n\n                            <div class="form-group">\n                                <label for="email">Correo electr√≥nico</label>\n                                <input \n                                    type="email" \n                                    id="email" \n                                    name="email" \n                                    placeholder="tu@email.com"\n                                    required\n                                >\n                            </div>\n\n                            <div class="form-group">\n                                <label for="password">Contrase√±a</label>\n                                <input \n                                    type="password" \n                                    id="password" \n                                    name="password"\n                                    required\n                                >\n                            </div>\n\n                            <div class="form-group">\n                                <label for="confirmPassword">Confirmar contrase√±a</label>\n                                <input \n                                    type="password" \n                                    id="confirmPassword" \n                                    name="confirmPassword"\n                                    required\n                                >\n                            </div>\n\n                            <button type="submit">Registrarse</button>\n                        </form>\n                    </div>\n\n                    <div class="footer">\n                        ¬øYa tienes una cuenta? <span id=\'redirect\'>Inicia sesi√≥n</span>\n                    </div>\n                </div>\n            ';const n=this.shadowRoot.querySelector("#redirect");null==n||n.addEventListener("click",(()=>{(0,i.dispatch)((0,r.navigate)("LOGIN"))}))}}}customElements.define("register-page",s)},997:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.userPosts=e.navigate=void 0,e.navigate=n=>({action:"NAVIGATE",payload:n}),e.userPosts=n=>({action:"SET_USER_POSTS",payload:n})},645:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reducer=void 0,e.reducer=(n,e)=>{const{action:t,payload:o}=n;switch(t){case"NAVIGATE":return Object.assign(Object.assign({},e),{screen:o});case"SET_POSTS":return Object.assign(Object.assign({},e),{posts:o});case"SET_USER_POSTS":return Object.assign(Object.assign({},e),{userPosts:o});default:return e}}},807:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.subscribe=e.dispatch=e.appState=void 0;const o=t(645),i=t(167);e.appState=(0,i.get)("STORE",{screen:"LANDING",posts:[]}),e.dispatch=n=>{const t=JSON.parse(JSON.stringify(e.appState)),a=(0,o.reducer)(n,t);var s;e.appState=a,s=a,(0,i.set)("STORE",s),r.forEach((n=>{n.render()}))};let r=[];e.subscribe=n=>{r.push(n)}},445:function(n,e,t){var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getUserDataById=e.getUserIdFromPost=e.uploadPostImage=e.getImage=e.setUserImage=e.updateUser=e.getPostsByUser=e.subscribeToPosts=e.getPosts=e.getLikesForPost=e.removeLike=e.likePost=e.getCommentsForPost=e.addCommentToPost=e.addPost=e.getCurrentUserLocation=e.getCurrentUserBio=e.getCurrentUserCredentials=e.getCurrentUserId=e.getCurrentUserName=e.logoutUser=e.loginUser=e.registerUser=e.getFirebaseInstance=void 0;const i=t(997),r=t(807);let a,s;e.getFirebaseInstance=()=>o(void 0,void 0,void 0,(function*(){if(!a){const{getFirestore:n}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),{initializeApp:e}=yield Promise.all([t.e(990),t.e(223)]).then(t.bind(t,223)),{getAuth:d,onAuthStateChanged:l}=yield Promise.all([t.e(990),t.e(887)]).then(t.bind(t,887)),c=e({apiKey:"AIzaSyDAqngQDJTyr0H86QeoYQIWuuk9bKHbTCk",authDomain:"simplepost-41609.firebaseapp.com",projectId:"simplepost-41609",storageBucket:"simplepost-41609.appspot.com",messagingSenderId:"1001008033762",appId:"1:1001008033762:web:a25e55babc72f0610193bb",measurementId:"G-K987R7VPHC"});a=n(c),s=d(c),l(s,(n=>o(void 0,void 0,void 0,(function*(){if(n){const{doc:e,getDoc:o}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),i=e(a,"users",n.uid),r=yield o(i);if(r.exists()){const n=r.data();localStorage.setItem("user",JSON.stringify(n))}}else localStorage.removeItem("user"),(0,r.dispatch)((0,i.navigate)("LOGIN"))}))))}return{db:a,auth:s}})),e.registerUser=n=>o(void 0,void 0,void 0,(function*(){try{const{auth:o,db:a}=yield(0,e.getFirebaseInstance)(),{createUserWithEmailAndPassword:s}=yield Promise.all([t.e(990),t.e(887)]).then(t.bind(t,887)),{doc:d,setDoc:l}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),c=d(a,"users",(yield s(o,n.email,n.password)).user.uid),u={username:n.username,email:n.email};return yield l(c,u),(0,r.dispatch)((0,i.navigate)("LOGIN")),!0}catch(n){switch(n.code){case"auth/email-already-in-use":alert("El correo electr√≥nico ya est√° en uso");break;case"auth/weak-password":alert("La contrase√±a es muy d√©bil");break;default:console.error("Error al registrar usuario:",n.message)}return!1}})),e.loginUser=(n,s)=>o(void 0,void 0,void 0,(function*(){try{const{auth:o}=yield(0,e.getFirebaseInstance)(),{signInWithEmailAndPassword:d,setPersistence:l,browserLocalPersistence:c}=yield Promise.all([t.e(990),t.e(887)]).then(t.bind(t,887));yield l(o,c);const u=yield d(o,n,s),{doc:p,getDoc:h}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),m=p(a,"users",u.user.uid),g=yield h(m);if(g.exists()){const n=g.data();localStorage.setItem("user",JSON.stringify(n))}(0,r.dispatch)((0,i.navigate)("HOME"))}catch(n){console.error("Error en login:",n.code),"auth/invalid-credential"===n.code?alert("Correo o contrase√±a inv√°lidos"):console.error("Error al iniciar sesi√≥n:",n.message)}})),e.logoutUser=()=>o(void 0,void 0,void 0,(function*(){try{const{auth:n}=yield(0,e.getFirebaseInstance)(),{signOut:o}=yield Promise.all([t.e(990),t.e(887)]).then(t.bind(t,887));yield o(n),localStorage.removeItem("user"),(0,r.dispatch)((0,i.navigate)("LANDING"))}catch(n){console.error("Error al cerrar sesi√≥n:",n)}})),e.getCurrentUserName=()=>{const n=JSON.parse(localStorage.getItem("user")||"{}");return(null==n?void 0:n.username)||null},e.getCurrentUserId=()=>o(void 0,void 0,void 0,(function*(){var n;const{auth:t}=yield(0,e.getFirebaseInstance)();return null===(n=t.currentUser)||void 0===n?void 0:n.uid})),e.getCurrentUserCredentials=()=>o(void 0,void 0,void 0,(function*(){const{auth:n}=yield(0,e.getFirebaseInstance)();return n.currentUser})),e.getCurrentUserBio=()=>o(void 0,void 0,void 0,(function*(){const n=JSON.parse(localStorage.getItem("user")||"{}");return(null==n?void 0:n.bio)||null})),e.getCurrentUserLocation=()=>o(void 0,void 0,void 0,(function*(){const n=JSON.parse(localStorage.getItem("user")||"{}");return(null==n?void 0:n.location)||null})),e.addPost=n=>o(void 0,void 0,void 0,(function*(){var o;try{const{db:i,auth:r}=yield(0,e.getFirebaseInstance)(),{addDoc:a,collection:s,serverTimestamp:d}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),l=null===(o=r.currentUser)||void 0===o?void 0:o.uid;if(!l)throw new Error("Usuario no autenticado");const c=Object.assign(Object.assign({},n),{userId:l,createdAt:d()}),u=s(i,"posts");return(yield a(u,c)).id}catch(n){throw console.error("Error al agregar post:",n),n}})),e.addCommentToPost=(n,i)=>o(void 0,void 0,void 0,(function*(){var o;try{const{db:r,auth:a}=yield(0,e.getFirebaseInstance)(),{doc:s,updateDoc:d,arrayUnion:l}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),c=null===(o=a.currentUser)||void 0===o?void 0:o.uid,u=JSON.parse(localStorage.getItem("user")||"{}"),p=(null==u?void 0:u.username)||null;if(!c)throw new Error("Usuario no autenticado");const h=s(r,"posts",n);yield d(h,{comments:l({userId:c,author:p,comment:i})})}catch(n){console.error("Error al agregar comentario:",n)}})),e.getCommentsForPost=n=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:i,getDoc:r}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),a=i(o,"posts",n),s=yield r(a);return s.exists()?s.data().comments||[]:{}}catch(n){return console.error("Error al obtener comentarios:",n),{}}})),e.likePost=(n,i)=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:r,updateDoc:a,arrayUnion:s}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),d=r(o,"posts",n);yield a(d,{likes:s(i)})}catch(n){console.error("Error al dar like al post:",n)}})),e.removeLike=(n,i)=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:r,updateDoc:a,arrayRemove:s}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),d=r(o,"posts",n);yield a(d,{likes:s(i)})}catch(n){console.error("Error al quitar el like al post:",n)}})),e.getLikesForPost=n=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:i,getDoc:r}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),a=i(o,"posts",n),s=yield r(a);return s.exists()?s.data().likes||[]:{}}catch(n){return console.error("Error al obtener likes:",n),{}}})),e.getPosts=()=>o(void 0,void 0,void 0,(function*(){try{const{db:n}=yield(0,e.getFirebaseInstance)(),{collection:o,getDocs:i,query:r,orderBy:a}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),s=r(o(n,"posts"),a("createdAt","desc"));return(yield i(s)).docs.map((n=>Object.assign({id:n.id},n.data())))}catch(n){return console.error("Error al obtener posts:",n),[]}})),e.subscribeToPosts=n=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{collection:i,query:r,orderBy:a,onSnapshot:s}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594));return s(r(i(o,"posts"),a("createdAt","desc")),(e=>{const t=e.docs.map((n=>Object.assign({id:n.id},n.data())));n(t)}))}catch(n){return console.error("Error al suscribirse a cambios en posts:",n),null}})),e.getPostsByUser=n=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{collection:i,query:r,where:a,getDocs:s}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),d=r(i(o,"posts"),a("userId","==",n));return(yield s(d)).docs.map((n=>Object.assign({id:n.id},n.data())))}catch(n){return console.error("Error al obtener posts por usuario:",n),[]}})),e.updateUser=(n,i)=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:r,updateDoc:a}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),s=r(o,"users",n);yield a(s,i)}catch(n){console.error("Error al actualizar usuario:",n)}})),e.setUserImage=(n,i)=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:r,updateDoc:a}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),s=r(o,"users",n);yield a(s,{imageUrl:i})}catch(n){console.error("Error al actualizar imagen de usuario:",n)}})),e.getImage=n=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:i,getDoc:r}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),a=i(o,"users",n),s=yield r(a);return s.exists()&&s.data().imageUrl||null}catch(n){return console.error("Error al obtener imagen de usuario:",n),null}})),e.uploadPostImage=(n,i)=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:r,updateDoc:a}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),s=r(o,"posts",n);yield a(s,{imageUrl:i})}catch(n){console.error("Error al actualizar imagen de post:",n)}})),e.getUserIdFromPost=n=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:i,getDoc:r}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),a=i(o,"posts",n),s=yield r(a);return s.exists()&&s.data().userId||null}catch(n){return console.error("Error al obtener el id del usuario:",n),null}})),e.getUserDataById=n=>o(void 0,void 0,void 0,(function*(){try{const{db:o}=yield(0,e.getFirebaseInstance)(),{doc:i,getDoc:r}=yield Promise.all([t.e(990),t.e(594)]).then(t.bind(t,594)),a=i(o,"users",n),s=yield r(a);return s.exists()?s.data():null}catch(n){return console.error("Error al obtener datos de usuario:",n),null}}))},167:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.set=e.get=void 0,e.get=(n,e)=>{const t=localStorage.getItem(n)||sessionStorage.getItem(n);return t?JSON.parse(t):e},e.set=(n,e,t=!1)=>{(t?sessionStorage:localStorage).setItem(n,JSON.stringify(e))}},849:function(n,e){var t=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{d(o.next(n))}catch(n){r(n)}}function s(n){try{d(o.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}d((o=o.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.uploadprofileImage=function(n,e){return t(this,void 0,void 0,(function*(){const t=new FormData;t.append("file",n),t.append("upload_preset",o),t.append("public_id",e);try{const n=yield fetch(i,{method:"POST",body:t});return yield n.json()}catch(n){throw console.error("Error al subir la imagen:",n),n}}))},e.uploadImage=function(n){return t(this,void 0,void 0,(function*(){const e=new FormData;e.append("file",n),e.append("upload_preset",o);try{const n=yield fetch(i,{method:"POST",body:e});return yield n.json()}catch(n){throw console.error("Error al subir la imagen:",n),n}}))};const o="tz0y5sfc",i="https://api.cloudinary.com/v1_1/dunvwejii/image/upload"}},o={};function i(n){var e=o[n];if(void 0!==e)return e.exports;var r=o[n]={exports:{}};return t[n].call(r.exports,r,r.exports,i),r.exports}i.m=t,i.d=(n,e)=>{for(var t in e)i.o(e,t)&&!i.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},i.f={},i.e=n=>Promise.all(Object.keys(i.f).reduce(((e,t)=>(i.f[t](n,e),e)),[])),i.u=n=>n+".bundle.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),i.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),n={},e="dca:",i.l=(t,o,r,a)=>{if(n[t])n[t].push(o);else{var s,d;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==e+r){s=u;break}}s||(d=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+r),s.src=t),n[t]=[o];var p=(e,o)=>{s.onerror=s.onload=null,clearTimeout(h);var i=n[t];if(delete n[t],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((n=>n(o))),e)return e(o)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),d&&document.head.appendChild(s)}},i.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.p="/SimplePost-DCA-FP/dist/",(()=>{var n={792:0};i.f.j=(e,t)=>{var o=i.o(n,e)?n[e]:void 0;if(0!==o)if(o)t.push(o[2]);else{var r=new Promise(((t,i)=>o=n[e]=[t,i]));t.push(o[2]=r);var a=i.p+i.u(e),s=new Error;i.l(a,(t=>{if(i.o(n,e)&&(0!==(o=n[e])&&(n[e]=void 0),o)){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,o[1](s)}}),"chunk-"+e,e)}};var e=(e,t)=>{var o,r,[a,s,d]=t,l=0;if(a.some((e=>0!==n[e]))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);d&&d(i)}for(e&&e(t);l<a.length;l++)r=a[l],i.o(n,r)&&n[r]&&n[r][0](),n[r]=0},t=self.webpackChunkdca=self.webpackChunkdca||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})(),(()=>{i(158),i(328),i(622),i(18),i(674),i(474);const n=i(807),e=i(807);class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),(0,e.subscribe)(this)}connectedCallback(){this.render()}render(){var e,t,o,i,r,a;switch(this.shadowRoot&&(this.shadowRoot.innerHTML=""),n.appState.screen){case"HOME":const n=document.createElement("main-page");null===(e=this.shadowRoot)||void 0===e||e.appendChild(n);break;case"LANDING":const s=document.createElement("landing-page");null===(t=this.shadowRoot)||void 0===t||t.appendChild(s);break;case"REGISTER":const d=document.createElement("register-page");null===(o=this.shadowRoot)||void 0===o||o.appendChild(d);break;case"LOGIN":const l=document.createElement("login-page");null===(i=this.shadowRoot)||void 0===i||i.appendChild(l);break;case"PROFILE":const c=document.createElement("profile-page");null===(r=this.shadowRoot)||void 0===r||r.appendChild(c);break;case"EXTERNAL_PROFILE":const u=document.createElement("external-page");null===(a=this.shadowRoot)||void 0===a||a.appendChild(u)}}}customElements.define("app-container",t)})()})();